{
    "schema": "CREATE TABLE IF NOT EXISTS chapters (\n    chapter_name TEXT PRIMARY KEY,\n    title TEXT UNIQUE,\n    opened TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS tags (\n    tag TEXT PRIMARY KEY,\n    comment TEXT DEFAULT 'none',\n    principle TEXT NOT NULL DEFAULT 'none' CHECK (principle IN ('none','will', 'vitality', 'family','progress')),\n    active INTEGER NOT NULL DEFAULT 1,\n    created_time TIMESTAMP NOT NULL,\n    updated_time TIMESTAMP NOT NULL\n);\n\nCREATE TABLE IF NOT EXISTS entries (\n    entry_id INTEGER PRIMARY KEY AUTOINCREMENT,\n    chapter_name TEXT NOT NULL,\n    tag TEXT NOT NULL,\n    date TIMESTAMP NOT NULL,\n    country TEXT NOT NULL,\n    city TEXT NOT NULL,\n    message TEXT NOT NULL,\n    FOREIGN KEY (chapter_name) REFERENCES chapters(chapter_name),\n    FOREIGN KEY (tag) REFERENCES tags(tag)\n);\n\nCREATE TABLE IF NOT EXISTS reminds (\n    remind_id INTEGER PRIMARY KEY AUTOINCREMENT,\n    entry_id INTEGER NOT NULL, \n    date_remind TIMESTAMP NOT NULL,\n    repeat TEXT NOT NULL DEFAULT 'none',\n    FOREIGN KEY (entry_id) REFERENCES entries(entry_id)\n);\n\n-- Indexes\nCREATE INDEX idx_chapter_name ON entries (chapter_name);\nCREATE INDEX idx_tag ON entries (tag);\nCREATE INDEX idx_date ON entries (date);\nCREATE INDEX idx_entry_id ON reminds (entry_id);\nCREATE INDEX idx_date_remind ON reminds (date_remind);\nCREATE INDEX idx_repeat ON reminds (repeat);"
}