{
    "schema": "CREATE TABLE IF NOT EXISTS chapters (\n    chapter_name TEXT PRIMARY KEY UNIQUE NOT NULL,\n    title TEXT UNIQUE,\n    opened TIMESTAMP UNIQUE\n);\n\nCREATE TABLE IF NOT EXISTS tags (\n    tag TEXT PRIMARY KEY UNIQUE NOT NULL,\n    filter TEXT DEFAULT null,\n    FOREIGN KEY (filter) REFERENCES filters (filter)\n);\n\nCREATE TABLE IF NOT EXISTS filters (\n    filter TEXT PRIMARY KEY UNIQUE NOT NULL,\n    comments TEXT NOT NULL DEFAULT 'none'\n);\n\nCREATE TABLE IF NOT EXISTS entries (\n    entry_id INTEGER PRIMARY KEY AUTOINCREMENT,\n    chapter_name TEXT NOT NULL,\n    tag TEXT NOT NULL,\n    date TEXT NOT NULL UNIQUE,\n    country TEXT NOT NULL,\n    city TEXT NOT NULL,\n    message TEXT NOT NULL,\n    FOREIGN KEY (chapter_name) REFERENCES chapters(chapter_name),\n    FOREIGN KEY (tag) REFERENCES tags(tag)\n);\n\nCREATE TABLE IF NOT EXISTS reminds (\n    remind_id INTEGER PRIMARY KEY AUTOINCREMENT,\n    entry_id INTEGER NOT NULL, \n    date_remind TIMESTAMP NOT NULL,\n    repeat TEXT NOT NULL DEFAULT 'none',\n    FOREIGN KEY (entry_id) REFERENCES entries(entry_id)\n);\n\n-- Indexes\nCREATE INDEX idx_chapter_name ON entries (chapter_name);\nCREATE INDEX idx_tag ON entries (tag);\nCREATE INDEX idx_date ON entries (date);\nCREATE INDEX idx_entry_id ON remind (entry_id);\nCREATE INDEX idx_date_remind ON remind (date_remind);"
}